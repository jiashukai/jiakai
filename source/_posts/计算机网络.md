---
title: 计算机网络
date: 2019-01-07T21:17:17.000Z
tags: null
---

# 1.计算机网络分为哪几层

## OSI模型有7层，如果是TCP/IP协议簇，则有4层：

OSI模型中从下往上依次是：物理层，数据链路层，网络层，传输层，会话层，表示层，应用层。 TCP/IP协议簇从下往上依次是：网络接口层，网际层IP，运输层（TCP或UDP），应用层。 这里简要介绍一下各层的主要作用：

### （1）应用层

应用层是体系结构中的最高层，应用层直接为用户的应用进程提供服务。这里的进程就是指正在运行的程序。在因特网中应用层协议很多，如支持万维网的HTTP协议，支持电子邮件的SMTP协议，支持文件传送的FTP协议等等

### （2）运输层

运输层的任务就是负责向两个主机中进程之间的通信提供服务。由于一个主机可同时运行多个进程，因此运输层有复用和分用的功能。复用就是多个应用层进程同时可同时使用下面运输层的服务，分用则是运输层把收到的信息分别交付给上面应用层中相应的进程。 运输层主要使用一下两种协议：
#### 1.传输控制协议---面向连接的，数据传输的单位是报文段，能够提供可靠的交付
#### 2.用户数据包协议UDP---无连接的，数据传输的单位使用户数据报，不保证可靠地交付，只能提供“尽最大努力交付”。
### (3) 网络层
网络层负责为分组交换网上的不同主机提供通信服务。在发送数据时，网络层把运输层产生的报文段或则用户数据报封装成分组或包进行传送。在TCP/IPti体系中，由于网络层使用IP协议，因此分组也叫作IP数据报，或简称为数据报。

网络层的另一个任务就是要选择合适的路由，使源主机运输层所传下来的分组，能够通过网络层的路由器找到目的主机。

网络层主要的协议是无连接的网际IP协议和许多路由选择协议。
### （4）数据链路层
我们知道两个主机之间的数据传输，总是在一段一段的链路上传输的，也就是说，在两个相邻节点之间传送数据是直接传送的。这时就需要使用专门的链路层的协议。在两个相邻的节点之间船速数据时，数据链路层将网络层交下来的IP数据报组装成帧，在两个相邻的节点之间的链路上“透明”地传送帧中的数据。每一帧包括数据和必要的控制信息。
### （5）物理层
在物理层上所传数据的单位是比特。物理层的任务就是透明地传送比特流

# 2.TCP和UDP有什么区别，各自的使用场景以及那些应用层协议使用使用了TCP与UDP
### TCP与UDP的区别：
    01.TCP是面向连接的传输控制协议，而UDP提供了无连接的数据报服务
    02.TCP具有高可靠性，确保传输数据的正确性，不出现丢失或乱序；UDP在数据传输前不建立连接，不对数据报进行检查与修改，无须等待对方的应答，所以会出现分组丢失，重复，乱序，应用程序需要负责传输可靠性方面的工作
    03.UDP具有较好的实时性，工作效率较TCP协议高
    04.UDP结构段比TCP的结构段简单，因此网路开销也小
### 各自的使用场景
    TCP：对效率要求相对低，但对准确性要求相对高；或则是要求有连接的场景
    UDP：对效率要求相对较高，对准确性要求相对低的场景
### TCP与UDP的应用（应用层协议）
    TCP：电子邮件（SMTP），远程终端接入（TELNET），万维网（HTTP），文件传送（FTP）
    UDP：名字转换（DNS），文件传送（TFTP）路由选择协议（RIP），IP地址配置（BOOTP，DHCP），网络管理（SNMP），远程文件服务器（NFS），IP（专用协议），流式多媒体电话（专用协议），多播（IGMP）
### TCP与UDP的优缺点：
    1.TCP
      优点：可靠，稳定。
          TCP的可靠性体现在传输数据前，三次握手建立连接（四次挥手断开连接），并在数据传递时，有确认，窗口，重传，拥塞控制机制，数据传完之后断开连接来节省系统资源。
      缺点：慢，效率比较低，占用系统资源，容易被攻击。 在传输数据之前建立连接，这样会消耗时间，而且在消息传递时，确认机制，重传机制和拥塞机制都会消耗大量的时间，而且在每台设备上维护所有的传输连接。而且没一个连接都会占用系统的CPU，内存等软硬件资源。而且TCP的连接机制，三次握手机制导致TCP容易被人利用，实现DOS，DDOS攻击。
    2.UDP
      优点：快，比TCP安全
          UDP没有TCP的握手，确认窗口，重传，拥塞机制。UDP是一个无状态的传输机制，所以在传输数据时非常快。UDP没有TCP这些机制，相应被利用的漏洞就少一点。但是UDP的攻击也是存在的，比如UDP的flood攻击
      缺点：不可靠，不稳定
          因为UDP没有TCP的那些可靠机制，在网络质量不好的时候容易发生丢包
# 3.滑动窗口协议
    这里我们假定数据只在一个方向上进行，即A发送数据，B给出确认。这样讨论好处是限于两个窗口，即A的发送窗口和接收方B的接受窗口，这样使问题简化。

  TCP的滑动窗口是以字节为单位的如下图我们假定A收到了B发来的确认报文段，其中窗口是20（字节），而确认号是31（这表明B期望收到的下一个序号是31，而序号30为止的数据已经收到了），根据这两个数据，A就构造出自己的发送窗口如下图：
    ![Image text](https://github.com/jiashukai/jiakai/blob/master/source/_posts/pictures/滑动窗口1.png)
